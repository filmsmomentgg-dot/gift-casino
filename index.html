<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gift Casino - Telegram Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="styles.css?v=41">
    <script src="secureApi.js?v=3"></script>
    <script src="script.js?v=72" defer></script>
</head>
<body>
    <div class="app-container">
        <!-- üîù Header -->
        <header class="header">
            <div class="user-info">
                <div class="avatar">
                    <img src="avatar.png?v=3" alt="User Avatar">
                </div>
                <div class="user-details">
                    <div class="username">@user123</div>
                    <div class="user-level">üéÅ Silver Gift</div>
                </div>
            </div>
            <div class="header-actions">
                <div class="header-balance" id="headerBalance">
                    <img src="TON.png" alt="TON" class="currency-icon" id="currencyIcon">
                    <span class="amount" id="balanceAmount" data-target="1250">0</span>
                    <span class="currency-dropdown-arrow">‚ñº</span>
                    <div class="currency-menu" id="currencyMenu">
                        <button class="currency-menu-item" data-currency="ton">
                            <img src="TON.png" alt="TON" class="currency-menu-icon">
                            <span class="currency-menu-text">TON</span>
                        </button>
                        <button class="currency-menu-item" data-currency="stars">
                            <img src="stars.png" alt="Stars" class="currency-menu-icon">
                            <span class="currency-menu-text">Stars</span>
                        </button>
                    </div>
                </div>
                <a href="https://t.me/puwmvshop_bot" target="_blank" style="text-decoration: none;">
                    <button class="deposit-btn">üí≥ Deposit</button>
                </a>
                <div class="settings-wrapper">
                    <button class="settings-btn" id="settingsBtn">‚öôÔ∏è</button>
                    <div class="settings-menu" id="settingsMenu">
                        <button class="settings-menu-item" id="soundToggle">
                            <span class="menu-icon">üîä</span>
                            <span class="menu-text">–ó–≤—É–∫</span>
                            <span class="menu-toggle on">ON</span>
                        </button>
                        <button class="settings-menu-item" id="supportBtn">
                            <span class="menu-icon">üí¨</span>
                            <span class="menu-text">–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- üì± Main Content (Home Tab) -->
        <div class="main-content" id="mainContent">
            <!-- ÔøΩ Flying Gifts Animation -->
            <div class="flying-gifts-container" id="flyingGiftsContainer">
                <!-- Gifts will be added by JS -->
            </div>
            
            <!-- üéÆ Game Buttons (Bottom) -->
            <div class="game-buttons-container">
                <!-- üéØ Crash Game Button (Large) -->
                <div class="crash-game-wrapper crash-main">
                    <button class="crash-game-btn crash-game-btn-large" id="crashGameBtn">
                        <div class="crash-btn-content">
                            <div class="crash-icon-wrapper">
                                <img src="stars.png" alt="Star" class="crash-star-icon">
                                <div class="crash-glow"></div>
                            </div>
                            <div class="crash-btn-text">
                                <span class="crash-title">üöÄ –ö–†–ê–®</span>
                                <span class="crash-subtitle">–£–º–Ω–æ–∂–∞–π —Å–≤–æ–π –±–∞–ª–∞–Ω—Å!</span>
                            </div>
                        </div>
                    </button>
                </div>
                
                <!-- üí£ Mines Game Button -->
                <div class="crash-game-wrapper mines-main">
                    <button class="crash-game-btn mines-game-btn" id="minesGameBtn">
                        <div class="crash-btn-content">
                            <div class="crash-icon-wrapper">
                                <img src="TON.png" alt="TON" class="crash-star-icon mines-icon-img">
                                <img src="stars.png" alt="Stars" class="crash-star-icon mines-icon-img mines-star">
                            </div>
                            <div class="crash-btn-text">
                                <span class="crash-title">üíé MINES</span>
                                <span class="crash-subtitle">–ù–∞–π–¥–∏ –≤—Å–µ –∞–ª–º–∞–∑—ã!</span>
                            </div>
                        </div>
                    </button>
                </div>
            </div>
        </div>

        <!-- üöÄ Crash Game Section -->
        <section class="crash-section" id="crashSection" style="display: none;">
            <div class="crash-container">
                <!-- –ì—Ä–∞—Ñ–∏–∫ -->
                <div class="crash-graph">
                    <canvas id="crashCanvas"></canvas>
                    <div class="crash-multiplier" id="crashMultiplier">1.00x</div>
                    <div class="crash-cashout-animations" id="crashCashoutAnimations"></div>
                </div>
                
                <!-- –ò—Å—Ç–æ—Ä–∏—è -->
                <div class="crash-history" id="crashHistory">
                    <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ JS -->
                </div>
                
                <!-- –ü–∞–Ω–µ–ª—å —Å—Ç–∞–≤–æ–∫ -->
                <div class="crash-controls">
                    <div class="crash-bet-input">
                        <label>–°—Ç–∞–≤–∫–∞</label>
                        <div class="bet-input-wrapper">
                            <img src="TON.png" alt="TON" class="bet-currency-icon" id="crashBetIcon">
                            <input type="number" id="crashBetAmount" value="0.10" min="0.1" step="0.1">
                            <div class="bet-quick-btns">
                                <button class="bet-quick" data-mult="0.5">¬Ω</button>
                                <button class="bet-quick" data-mult="2">2x</button>
                                <button class="bet-quick" data-action="max">MAX</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="crash-auto-cashout">
                        <div class="auto-cashout-header">
                            <label class="auto-cashout-toggle">
                                <input type="checkbox" id="autoCashoutEnabled">
                                <span class="toggle-checkmark"></span>
                            </label>
                            <span class="auto-cashout-label">–ê–≤—Ç–æ-–≤—ã–≤–æ–¥</span>
                        </div>
                        <div class="auto-cashout-wrapper">
                            <input type="number" id="autoCashout" value="2.00" min="1.01" step="0.01">
                            <span class="auto-cashout-x">x</span>
                        </div>
                    </div>
                    
                    <button class="crash-btn" id="crashBtn">–°—Ç–∞–≤–∫–∞</button>
                </div>
            </div>
        </section>

        <!-- üí£ Mines Game Section -->
        <section class="mines-section" id="minesSection" style="display: none;">
            <div class="mines-container">
                <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                <div class="mines-controls">
                    <div class="mines-bet-row">
                        <div class="mines-bet-input">
                            <label>–°—Ç–∞–≤–∫–∞</label>
                            <div class="bet-input-wrapper">
                                <img src="TON.png" alt="TON" class="bet-currency-icon" id="minesBetIcon">
                                <input type="number" id="minesBetInput" value="10" min="0.1" step="0.1">
                            </div>
                        </div>
                        <div class="mines-count-select">
                            <label>–ú–∏–Ω—ã</label>
                            <select id="minesCountSelect">
                                <option value="1">1</option>
                                <option value="3" selected>3</option>
                                <option value="5">5</option>
                                <option value="10">10</option>
                                <option value="15">15</option>
                                <option value="20">20</option>
                                <option value="24">24</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mines-quick-bets">
                        <button class="mines-bet-quick" data-mult="0.25">25%</button>
                        <button class="mines-bet-quick" data-mult="0.5">50%</button>
                        <button class="mines-bet-quick" data-action="max">MAX</button>
                    </div>
                </div>
                
                <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ 5x5 -->
                <div class="mines-grid" id="minesGrid">
                    <!-- 25 –∫–ª–µ—Ç–æ–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ JS -->
                </div>
                
                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="mines-stats">
                    <div class="mines-stat">
                        <span class="stat-label">–ú–Ω–æ–∂–∏—Ç–µ–ª—å</span>
                        <span class="stat-value" id="minesMultiplier">1.00x</span>
                    </div>
                    <div class="mines-stat">
                        <span class="stat-label">üíé –ù–∞–π–¥–µ–Ω–æ</span>
                        <span class="stat-value" id="minesGemsCount">0</span>
                    </div>
                    <div class="mines-stat">
                        <span class="stat-label">–í—ã–∏–≥—Ä—ã—à</span>
                        <span class="stat-value" id="minesPotentialWin">0.00</span>
                    </div>
                </div>
                
                <!-- –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ -->
                <button class="mines-btn" id="minesBtn">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
                
                <!-- Provably Fair info -->
                <div class="mines-provably-fair">
                    <span class="pf-label">üîê Seed Hash:</span>
                    <span class="pf-value" id="minesSeedHash">-</span>
                </div>
            </div>
        </section>

        <!-- ÔøΩ Bets Section -->
        <section class="bets-section" id="betsSection" style="display: none;">
            <div class="bets-container">
                <!-- Tabs -->
                <div class="bets-tabs">
                    <button class="bets-tab active" data-type="sports">‚öΩ –°–ø–æ—Ä—Ç</button>
                    <button class="bets-tab" data-type="esports">üéÆ –ö–∏–±–µ—Ä—Å–ø–æ—Ä—Ç</button>
                </div>
                
                <!-- Sports Events -->
                <div class="bets-events" id="sportsEvents">
                    <div class="bet-event">
                        <div class="event-header">
                            <span class="event-league">‚öΩ –ü—Ä–µ–º—å–µ—Ä-–õ–∏–≥–∞</span>
                            <span class="event-time">–°–µ–≥–æ–¥–Ω—è 19:00</span>
                        </div>
                        <div class="event-teams">
                            <span class="team">–ú–∞–Ω—á–µ—Å—Ç–µ—Ä –°–∏—Ç–∏</span>
                            <span class="vs">vs</span>
                            <span class="team">–õ–∏–≤–µ—Ä–ø—É–ª—å</span>
                        </div>
                        <div class="event-odds">
                            <button class="odd-btn" data-odd="1.85"><span class="odd-label">–ü1</span><span class="odd-value">1.85</span></button>
                            <button class="odd-btn" data-odd="3.50"><span class="odd-label">X</span><span class="odd-value">3.50</span></button>
                            <button class="odd-btn" data-odd="4.20"><span class="odd-label">–ü2</span><span class="odd-value">4.20</span></button>
                        </div>
                    </div>
                    
                    <div class="bet-event">
                        <div class="event-header">
                            <span class="event-league">üèÄ –ù–ë–ê</span>
                            <span class="event-time">–°–µ–≥–æ–¥–Ω—è 21:30</span>
                        </div>
                        <div class="event-teams">
                            <span class="team">Lakers</span>
                            <span class="vs">vs</span>
                            <span class="team">Celtics</span>
                        </div>
                        <div class="event-odds">
                            <button class="odd-btn" data-odd="2.10"><span class="odd-label">–ü1</span><span class="odd-value">2.10</span></button>
                            <button class="odd-btn" data-odd="1.75"><span class="odd-label">–ü2</span><span class="odd-value">1.75</span></button>
                        </div>
                    </div>
                    
                    <div class="bet-event">
                        <div class="event-header">
                            <span class="event-league">üéæ ATP Finals</span>
                            <span class="event-time">–ó–∞–≤—Ç—Ä–∞ 15:00</span>
                        </div>
                        <div class="event-teams">
                            <span class="team">–°–∏–Ω–Ω–µ—Ä</span>
                            <span class="vs">vs</span>
                            <span class="team">–ê–ª—å–∫–∞—Ä–∞—Å</span>
                        </div>
                        <div class="event-odds">
                            <button class="odd-btn" data-odd="1.95"><span class="odd-label">–ü1</span><span class="odd-value">1.95</span></button>
                            <button class="odd-btn" data-odd="1.90"><span class="odd-label">–ü2</span><span class="odd-value">1.90</span></button>
                        </div>
                    </div>
                </div>
                
                <!-- Esports Events -->
                <div class="bets-events" id="esportsEvents" style="display: none;">
                    <div class="bet-event esport">
                        <div class="event-header">
                            <span class="event-league">üéÆ CS2 Major</span>
                            <span class="event-time">–°–µ–≥–æ–¥–Ω—è 18:00</span>
                        </div>
                        <div class="event-teams">
                            <span class="team">NAVI</span>
                            <span class="vs">vs</span>
                            <span class="team">G2 Esports</span>
                        </div>
                        <div class="event-odds">
                            <button class="odd-btn" data-odd="1.65"><span class="odd-label">–ü1</span><span class="odd-value">1.65</span></button>
                            <button class="odd-btn" data-odd="2.25"><span class="odd-label">–ü2</span><span class="odd-value">2.25</span></button>
                        </div>
                    </div>
                    
                    <div class="bet-event esport">
                        <div class="event-header">
                            <span class="event-league">üéÆ Dota 2 TI</span>
                            <span class="event-time">–°–µ–≥–æ–¥–Ω—è 20:00</span>
                        </div>
                        <div class="event-teams">
                            <span class="team">Team Spirit</span>
                            <span class="vs">vs</span>
                            <span class="team">Team Liquid</span>
                        </div>
                        <div class="event-odds">
                            <button class="odd-btn" data-odd="1.55"><span class="odd-label">–ü1</span><span class="odd-value">1.55</span></button>
                            <button class="odd-btn" data-odd="2.40"><span class="odd-label">–ü2</span><span class="odd-value">2.40</span></button>
                        </div>
                    </div>
                    
                    <div class="bet-event esport">
                        <div class="event-header">
                            <span class="event-league">üéÆ LoL Worlds</span>
                            <span class="event-time">–ó–∞–≤—Ç—Ä–∞ 12:00</span>
                        </div>
                        <div class="event-teams">
                            <span class="team">T1</span>
                            <span class="vs">vs</span>
                            <span class="team">Gen.G</span>
                        </div>
                        <div class="event-odds">
                            <button class="odd-btn" data-odd="1.80"><span class="odd-label">–ü1</span><span class="odd-value">1.80</span></button>
                            <button class="odd-btn" data-odd="2.00"><span class="odd-label">–ü2</span><span class="odd-value">2.00</span></button>
                        </div>
                    </div>
                    
                    <div class="bet-event esport">
                        <div class="event-header">
                            <span class="event-league">üéÆ Valorant Champions</span>
                            <span class="event-time">–ó–∞–≤—Ç—Ä–∞ 17:00</span>
                        </div>
                        <div class="event-teams">
                            <span class="team">Fnatic</span>
                            <span class="vs">vs</span>
                            <span class="team">Sentinels</span>
                        </div>
                        <div class="event-odds">
                            <button class="odd-btn" data-odd="1.70"><span class="odd-label">–ü1</span><span class="odd-value">1.70</span></button>
                            <button class="odd-btn" data-odd="2.15"><span class="odd-label">–ü2</span><span class="odd-value">2.15</span></button>
                        </div>
                    </div>
                </div>
                
                <!-- Bet Slip -->
                <div class="bet-slip" id="betSlip" style="display: none;">
                    <div class="bet-slip-header">
                        <span>üé´ –ö—É–ø–æ–Ω</span>
                        <button class="bet-slip-close" id="betSlipClose">‚úï</button>
                    </div>
                    <div class="bet-slip-selection" id="betSlipSelection"></div>
                    <div class="bet-slip-input">
                        <label>–°—É–º–º–∞ —Å—Ç–∞–≤–∫–∏</label>
                        <div class="bet-input-wrapper">
                            <img src="TON.png" alt="TON" class="bet-currency-icon" id="betsSlipIcon">
                            <input type="number" id="betSlipAmount" value="10" min="1" step="1">
                        </div>
                    </div>
                    <div class="bet-slip-potential">
                        <span>–í–æ–∑–º–æ–∂–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à:</span>
                        <span class="potential-win" id="betSlipPotential">0.00</span>
                    </div>
                    <button class="bet-slip-btn" id="placeBetBtn">–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É</button>
                </div>
            </div>
        </section>

        <!-- ÔøΩüéí Inventory Modal -->
        <div class="inventory-modal" id="inventoryModal">
            <div class="inventory-overlay" id="inventoryOverlay"></div>
            <div class="inventory-content">
                <button class="inventory-close" id="inventoryClose">‚úï</button>
                <h2 class="inventory-title">üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h2>
                <div class="inventory-empty" id="inventoryEmpty">
                    <span class="empty-icon">üì¶</span>
                    <span class="empty-text">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</span>
                    <span class="empty-hint">–ò–≥—Ä–∞–π—Ç–µ —á—Ç–æ–±—ã –≤—ã–∏–≥—Ä–∞—Ç—å!</span>
                </div>
                <div class="inventory-items" id="inventoryItems">
                    <!-- Items will be populated by JS -->
                </div>
            </div>
        </div>
        
        <!-- üìå Footer Navigation -->
        <footer class="footer-nav">
            <button class="footer-btn active" data-tab="home">
                <div class="footer-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                        <polyline points="9 22 9 12 15 12 15 22"/>
                    </svg>
                </div>
                <div class="footer-label">–ì–ª–∞–≤–Ω–∞—è</div>
            </button>
            <button class="footer-btn" data-tab="bets">
                <div class="footer-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polygon points="12 6 14 10 18 10 15 13 16 17 12 15 8 17 9 13 6 10 10 10 12 6"/>
                    </svg>
                </div>
                <div class="footer-label">–°—Ç–∞–≤–∫–∏</div>
            </button>
            <button class="footer-btn" id="inventoryFooterBtn" data-tab="inventory">
                <div class="footer-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 7h-4V4a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1z"/>
                        <path d="M10 4v3"/>
                        <path d="M14 4v3"/>
                    </svg>
                    <span class="inventory-badge" id="inventoryBadge" style="display: none;">0</span>
                </div>
                <div class="footer-label">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</div>
            </button>
        </footer>

    </div>

    <script src="crash.js?v=57"></script>
    <script src="mines.js?v=5"></script>
    <script src="liveUpdates.js?v=54" type="module"></script>
</body>
</html>
