# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - Telegram Gifts Tracker

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é backend
cd backend

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–§–∞–π–ª `.env` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –±–∞–∑–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
- –ü–∞—Ä—Å–∏–Ω–≥ —Å https://blog.thevse.io/blog/telegram-gifts/
- –ü–æ—Ä—Ç 3000

## üéØ –ó–∞–ø—É—Å–∫

```bash
# –ò–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ backend/
npm start
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```
üöÄ Server running on http://localhost:3000
üíé Telegram Gifts Tracker Started
üìä Update interval: 10000ms
üîÑ WebSocket ready for live updates
‚úÖ Database initialized
üöÄ Starting price watcher (interval: 10000ms)
üîÑ Fetching gifts data...
üì¶ Found X gifts
üí∞ Price changes (if any)
‚úÖ Update completed successfully
```

## üåê –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: –û—Ç–∫—Ä–æ–π—Ç–µ `index.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. **API**: http://localhost:3000/api/gifts
3. **WebSocket**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ ws://localhost:3000

## üìä –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç

1. **–ö–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥**:
   - –ü–∞—Ä—Å–∏—Ç—Å—è —Å–∞–π—Ç —Å –ø–æ–¥–∞—Ä–∫–∞–º–∏
   - –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ü–µ–Ω—ã –≤ –ë–î
   - –°–∫–∞—á–∏–≤–∞—é—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç)
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ WebSocket

2. **–í —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**:
   - –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   - –¶–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
   - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

## üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ `backend/database/gifts.db`

–¢–∞–±–ª–∏—Ü—ã:
- `gifts` - —Ç–µ–∫—É—â–∏–µ –ø–æ–¥–∞—Ä–∫–∏ –∏ —Ü–µ–Ω—ã
- `price_history` - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
gitsTon/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ server.js           # –ì–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.js     # –ë–î SQLite
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ priceWatcher.js # –ü–∞—Ä—Å–µ—Ä —Ü–µ–Ω
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ imageLoader.js  # –ó–∞–≥—Ä—É–∑—á–∏–∫ PNG
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.js          # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ database/           # (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ gifts.db
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îî‚îÄ‚îÄ gifts/              # (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ       ‚îî‚îÄ‚îÄ *.png           # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥–∞—Ä–∫–æ–≤
‚îú‚îÄ‚îÄ index.html              # –§—Ä–æ–Ω—Ç–µ–Ω–¥
‚îú‚îÄ‚îÄ script.js
‚îî‚îÄ‚îÄ liveUpdates.js          # WebSocket –∫–ª–∏–µ–Ω—Ç
```

## üéÆ API –ü—Ä–∏–º–µ—Ä—ã

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ–¥–∞—Ä–∫–∏
```bash
curl http://localhost:3000/api/gifts
```

### –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ü–µ–Ω
```bash
curl http://localhost:3000/api/gifts/plush-pepe/history
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞

–ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∞–π—Ç–∞ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π `backend/services/priceWatcher.js`:

```javascript
// –ù–∞–π–¥–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è:
$('.gift-item')           // –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–¥–∞—Ä–∫–∞
  .find('.gift-name')     // –ù–∞–∑–≤–∞–Ω–∏–µ
  .find('.price')         // –¶–µ–Ω–∞
  .find('img')            // –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
```

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞

–ù–∞–∂–º–∏ `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

## üêõ Troubleshooting

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–¥–∞—Ä–∫–∏ –Ω–µ –ø–∞—Ä—Å—è—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É HTML –Ω–∞ —Å–∞–π—Ç–µ
- –û–±–Ω–æ–≤–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ `priceWatcher.js`

**–ü—Ä–æ–±–ª–µ–º–∞**: WebSocket –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
- –£–±–µ–¥–∏—Å—å —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å –ø–æ—Ä—Ç 3000

**–ü—Ä–æ–±–ª–µ–º–∞**: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ —Å–∞–π—Ç–µ
- –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ `assets/gifts/`

## üî• –ü—Ä–æ–¥–∞–∫—à–Ω

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
1. –ó–∞–º–µ–Ω–∏ SQLite –Ω–∞ PostgreSQL
2. –î–æ–±–∞–≤—å Redis –¥–ª—è –∫—ç—à–∞
3. –ò—Å–ø–æ–ª—å–∑—É–π PM2 –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
4. –ù–∞—Å—Ç—Ä–æ–π NGINX reverse proxy
5. –î–æ–±–∞–≤—å HTTPS

```bash
# PM2
npm install -g pm2
pm2 start server.js --name gifts-tracker
pm2 save
```
